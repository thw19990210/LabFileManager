
<html>
<head>
    <title>Lab126 Camera Database</title>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="dist/img/amazon_logo_circle.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.18/dist/css/uikit.min.css" />

    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.18/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.18/dist/js/uikit-icons.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles.css">


    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Tempusdominus Bootstrap 4 -->
    <link rel="stylesheet" href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    <!-- JQVMap -->
    <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/adminlte.min.css">
    <!-- overlayScrollbars -->
    <link rel="stylesheet" href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <!-- Daterange picker -->
    <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
    <!-- summernote -->
    <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">

</head>
<body style="padding: 0;">

<div class="wrapper">

    <!-- Preloader -->
    <div class="preloader flex-column justify-content-center align-items-center">
        <img class="animation__shake" src="dist/img/icons8-amazon-1000.png"  alt="Amazon Logo" width="350">
    </div>

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="/" class="nav-link">Home</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="/contact" class="nav-link">Contact</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="login" class="nav-link">Sign Out</a>
            </li>
<!--            <div class="add-cart-area">-->
<!--                <button class="add-to-cart">sign out</button>-->
<!--            </div>-->
        </ul>

        <!-- Right navbar links -->

    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Brand Logo -->
        <a class="brand-link">
            <img src="dist/img/amazon_logo.png" alt="Amazon Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
            <span class="brand-text font-weight-light">Amazon Lab126</span>
        </a>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Sidebar user panel (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                <div id="welcome_user_photo" class="image">

                </div>
                <div id="welcome_slogan" style="margin-top: 6px" class="info">

                </div>

            </div>

<!--            &lt;!&ndash; SidebarSearch Form &ndash;&gt;-->
<!--            <div class="form-inline">-->
<!--                <div class="input-group" data-widget="sidebar-search">-->
<!--                    <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">-->
<!--                    <div class="input-group-append">-->
<!--                        <button class="btn btn-sidebar">-->
<!--                            <i class="fas fa-search fa-fw"></i>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

            <!-- Sidebar Menu -->
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                    <!-- Add icons to the links using the .nav-icon class
                         with font-awesome or any other icon font library -->
                    <li class="nav-item">
                        <a href="/dashboard" onclick="display_name()" class="nav-link active">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>
                                Dashboard
                            </p>
                        </a>

                    </li>
                    <li class="nav-item ">
                        <a href="/edit" onclick="display_name()" class="nav-link ">
                            <i class="nav-icon fas fa-copy"></i>
                            <p>
                                Edit Files
                            </p>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="/PDP" onclick="display_name()" class="nav-link">
                            <i class="nav-icon fas fa-chart-pie"></i>
                            <p>
                                PDP
                            </p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/compare" onclick="display_name()" class="nav-link">
                            <i class="nav-icon fas fa-table"></i>
                            <p>
                                Compare
                            </p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/profile" onclick="display_name()" class="nav-link">
                            <i class="nav-icon fas fa-edit"></i>
                            <p>
                                Profile
                            </p>
                        </a>
                    </li>

                </ul>
            </nav>
            <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1 class="m-0">Dashboard</h1>
                    </div><!-- /.col -->
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="/">Home</a></li>
                            <li class="breadcrumb-item active">Dashboard</li>
                        </ol>
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <div style="margin-bottom: 15px; text-align: center">
            <button id="switch-btn-2" type="button" STYLE="border: none; background-color: #f4f6f9; font-size: 19px" onclick="sel_search_pro()">by name</button>
            <a style="font-size: 19px">|</a>
            <button id="switch-btn-1" type="button" STYLE="border: none; background-color: #f4f6f9; font-size: 19px" onclick="sel_search()">by property</button>
        </div>



        <!-- Main content -->
<!--        <div style="text-align:center;margin-top: 30px">-->
<!--            <img src="https://amazon-blogs-brightspot-lower.s3.amazonaws.com/about/00/92/0260aab44ee8a2faeafde18ee1da/amazon-logo-inverse.svg" alt="" width="260">-->
<!--        </div>-->
        <div id="search-controller">
            <div class="form-inline">

                <div id="search-controller1" style="margin:auto" class="input-group">
<!--                    <input onkeydown="key_enter2(event)" id="p1" list="list1" class="form-control" type="search" placeholder="project" aria-label="Search1">-->
                    <select id="p1" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>project</option>
                    </select>
                    <select id="p2" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>sensor</option>
                    </select>
                    <select id="p3" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>hardware</option>
                    </select>
                    <select id="p4" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>software</option>
                    </select>
                    <select id="p5" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>file type</option>
                    </select>
                    <select id="p6" style="height: 37px; border: none; width: 170px; margin-left: 3px">
                        <option>scene</option>
                    </select>

<!--                    <input onkeydown="key_enter2(event)" id="p2" list="list2" class="form-control" type="search" placeholder="sensor" aria-label="Search1">-->

<!--                    &lt;!&ndash;                    <input onkeydown="key_enter2(event)" id="p6" list="list6" class="form-control" type="search" placeholder="serial number" aria-label="Search1">&ndash;&gt;-->
<!--                    <input onkeydown="key_enter2(event)" id="p7" list="list3" class="form-control" type="search" placeholder="hardware version" aria-label="Search1">-->
<!--                    <input onkeydown="key_enter2(event)" id="p8" list="list4" class="form-control" type="search" placeholder="software version" aria-label="Search1">-->
<!--                    <input onkeydown="key_enter2(event)" id="p9" list="list5" class="form-control" type="search" placeholder="file type" aria-label="Search1">-->

                    <div class="input-group-append">
                        <button class="btn" onclick="search()">
                            <i class="fas fa-search fa-fw"></i>
                        </button>
                    </div>

<!--                    <datalist id="list1">-->

<!--                    </datalist>-->
<!--                    <datalist id="list2">-->

<!--                    </datalist>-->
<!--                    <datalist id="list3">-->

<!--                    </datalist>-->
<!--                    <datalist id="list4">-->

<!--                    </datalist>-->
<!--                    <datalist id="list5">-->

<!--                    </datalist>-->
                </div>
            </div>
            <br>
            <div class="form-inline">
                <div id="search-controller2" style="margin:auto" class="input-group">
                    <label style="margin-right: 14px">CT :</label>
                    <input onkeydown="key_enter2(event)" id="p31" class="form-control" type="search" placeholder="from" aria-label="Search1">
                    <input onkeydown="key_enter2(event)" id="p32" class="form-control" type="search" placeholder="to" aria-label="Search1">

                    <label style="margin-right: 8px; margin-left: 88px">Lux:</label>
                    <input onkeydown="key_enter2(event)" id="p41" class="form-control" type="search" placeholder="from" aria-label="Search1">
                    <input onkeydown="key_enter2(event)" id="p42" class="form-control" type="search" placeholder="to" aria-label="Search1">

                </div>
            </div>
            <br>
            <div class="form-inline">
                <div id="search-controller3" style="margin:auto" class="input-group">

                    <label style="margin-right: 10px">ISO:</label>
                    <input onkeydown="key_enter2(event)" id="p51" class="form-control" type="search" placeholder="from" aria-label="Search1">
                    <input onkeydown="key_enter2(event)" id="p52" class="form-control" type="search" placeholder="to" aria-label="Search1">

                    <label style="margin-right: 12px; margin-left: 88px">ET :</label>
                    <input onkeydown="key_enter2(event)" id="p63" class="form-control" type="search" placeholder="from" aria-label="Search1">
                    <input onkeydown="key_enter2(event)" id="p62" class="form-control" type="search" placeholder="to" aria-label="Search1">

                </div>
            </div>
            <br>
        </div>
        <div class="form-inline">
            <div id="search-pro-controller" style="margin:auto; margin-bottom: 50px" class="input-group">
                <input id="pro" onkeydown="key_enter(event)" STYLE="width: 880px" class="form-control" type="search" placeholder="Please type in searching content" aria-label="Search1">
                <div class="input-group-append">
                    <button class="btn" onclick="search_pro()">
                        <i class="fas fa-search fa-fw"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="work_path"></div>



        <!--        <div class="js-upload uk-placeholder uk-text-center">-->
<!--            <span uk-icon="icon: cloud-upload"></span>-->
<!--            <span class="uk-text-middle">Drop your files here or</span>-->
<!--            <div class="uk-form-custom">-->
<!--                <input style="font-size: 0" type="file" multiple>-->
<!--                <span style="cursor: pointer" class="uk-link">selecting files</span>-->
<!--            </div>-->
<!--        </div>-->



        <!--&lt;!&ndash; The form &ndash;&gt;-->
        <!--<form class="example" action="http://localhost:63300/search">-->
        <!--    <input type="text" placeholder="color temperature" name="color_temp">-->
        <!--    <button type="submit"><i class="fa fa-search"></i></button>-->
        <!--    <button type="submit"></button>-->
        <!--</form>-->

        <progress id="js-progressbar" class="uk-progress CenteredItems" value="0" max="200" hidden></progress>



        <div id="download-button-area" class="CenteredItems" style=" height: 40px;">

            <a class="btn btn_primary" style="margin-left: 1226px; margin-bottom: 5px" onclick="download_selected()">Download</a>


            <input id="select_all" type="checkbox" onclick="swapCheck()"/>
        </div>

        <div id="no-file-alert" style='text-align: center; margin-top: 50px'>no file found for the searching!</div>

        <div id="downloadList" class="CenteredItems" style="overflow: auto; overflow-x: hidden; height: 550px; margin-top: 20px"></div>

    </div>
    <!-- /.content-wrapper -->

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->










<script src="script.js"></script>
<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- ChartJS -->
<script src="plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<script src="plugins/moment/moment.min.js"></script>
<script src="plugins/daterangepicker/daterangepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Summernote -->
<script src="plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->

<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<!--<script src="dist/js/pages/dashboard.js"></script>-->

<script type="text/javascript">
    let isCheckAll = false;
    function swapCheck() {
        $("input[type='checkbox']").each(function() {
            this.checked = !isCheckAll;
        });
        isCheckAll = !isCheckAll;
    }
    function listenCheckbox(){
        //总量
        let total=$("input[type='checkbox']").length;
        ////实际被选中的
        let exact=$("input[type='checkbox']:checked").length;

        ////检测所有的check选项的有多少与总量进行对比
        isCheckAll = (total == exact);
        document.getElementById("select_all").checked = isCheckAll; //true or false
    }

    function download_selected(){
        $("input[type='checkbox']:checked").each(function (){
            let lk_id = "#link" + $(this).attr("id").substring(8);
            // autoclick(lk_id);
            // console.log($(lk_id).attr("href"));
            // window.location.href = $(lk_id).attr("href");
            // location.href = link;

            let id = $(lk_id)[0].innerHTML;
            alert("Downloading the file: "+id);

            $(lk_id)[0].click();


        });

    }


</script>

<script>
    $(document).ready(function (){
        get_token();
        sel_search_pro();
        display_options();
        $("#no-file-alert").hide();
        $("#download-button-area").hide();

        let color1 = "#949ba1";
        let color2 = "black";
        document.getElementById("p1").style.color = color1;
        document.getElementById("p2").style.color = color1;
        document.getElementById("p3").style.color = color1;
        document.getElementById("p4").style.color = color1;
        document.getElementById("p5").style.color = color1;
        document.getElementById("p6").style.color = color1;
        $("#p1, #p2, #p3, #p4, #p5, #p6").on("change", function () {
            search();
            if (document.getElementById("p1").value == "project") document.getElementById("p1").style.color = color1;
            else document.getElementById("p1").style.color = color2;
            if (document.getElementById("p2").value == "sensor") document.getElementById("p2").style.color = color1;
            else document.getElementById("p2").style.color = color2;
            if (document.getElementById("p3").value == "hardware") document.getElementById("p3").style.color = color1;
            else document.getElementById("p3").style.color = color2;
            if (document.getElementById("p4").value == "software") document.getElementById("p4").style.color = color1;
            else document.getElementById("p4").style.color = color2;
            if (document.getElementById("p5").value == "file type") document.getElementById("p5").style.color = color1;
            else document.getElementById("p5").style.color = color2;
            if (document.getElementById("p6").value == "scene") document.getElementById("p6").style.color = color1;
            else document.getElementById("p6").style.color = color2;

        });
    });

    function sel_search() {
        $("#search-controller").show();
        $("#search-pro-controller").hide();
        document.getElementById('switch-btn-1').style.color = "#f02757";
        document.getElementById('switch-btn-2').style.color = "black";
    }

    function sel_search_pro() {
        $("#search-controller").hide();
        $("#search-pro-controller").show();
        document.getElementById('switch-btn-1').style.color = "black";
        document.getElementById('switch-btn-2').style.color = "#f02757";
    }

    function reload() {
        $("#downloadList").empty();
        $("#downloadList").hide();
        $("#Spinner").show();

        $.ajax({
            url: "/api/general/files/list",
            type: "GET",
            error: function (data, status) {
                onerror(data);
            },
            success: function (data, status) {
                display(data);
            }
        });
    }



    function search() {
        var project   = document.getElementById("p1").value; project = (project == "project") ? "" : project;
        var sensor    = document.getElementById("p2").value; sensor = (sensor == "sensor") ? "" : sensor;
        // var color_tem = document.getElementById("p3").value;
        // var illumin   = document.getElementById("p4").value;
        // var ISO       = document.getElementById("p5").value;
        // var serial_n  = document.getElementById("p6").value;
        var HW_v      = document.getElementById("p3").value; HW_v = (HW_v == "hardware") ? "" : HW_v;
        var SW_v      = document.getElementById("p4").value; SW_v = (SW_v == "software") ? "" : SW_v;
        var file_type = document.getElementById("p5").value; file_type = (file_type == "file type") ? "" : file_type;
        var scene = document.getElementById("p6").value; scene = (scene == "scene") ? "" : scene;

        var color_tem = document.getElementById("p31").value + "~" + document.getElementById("p32").value;
        var illumin   = document.getElementById("p41").value + "~" + document.getElementById("p42").value;
        var ISO       = document.getElementById("p51").value + "~" + document.getElementById("p52").value;
        var ET        = document.getElementById("p63").value + "~" + document.getElementById("p62").value;

        var str = "project="+project+"&"+"sensor="+sensor+"&"+"color_tem="+color_tem+"&"+"illumin="+illumin+"&"+"ISO="+ISO+"&"+"ET="+ET+"&"+"HW_v="+HW_v+"&"+"SW_v="+SW_v+"&"+"file_type="+file_type+"&"+"scene="+scene;
        $("#downloadList").empty();
        $("#downloadList").hide();
        $("#Spinner").show();

        $.ajax({
            url: "/api/general/search?"+str,
            type: "GET",
            // data: {project: project, color_tem: color_tem},
            error: function () {
                alert("Sorry! Some error happened");
            },
            success: function (data) {
                display(data);
            }
        });
    }

    function display (data) {
        $("#Spinner").hide();
        $("#downloadList").fadeIn(500);

        if ($.isEmptyObject(data)) {
            $("#no-file-alert").show();
            $("#download-button-area").hide();
        }
        else {
            $("#no-file-alert").hide();
            $("#download-button-area").show();
        }

        for (var key in data) {
            var div = document.createElement('div');
            div.classList.add("CenteredItems");
            div.style.display = "inline-flex";
            div.style.flexDirection = "row";

            var clipboard = document.createElement('div');
            // clipboard.data-clipboard-text = data[key].name;
            var fileIcon = document.createElement('img');
            fileIcon.src = data[key].isDirectory ? "folder.svg" : "file.svg";
            var copy = document.createElement('a');

            //image preview function
            var img;
            var img_name = data[key].path;
            if (data[key].name.endsWith(".mp4") ||
                data[key].name.endsWith(".wmv") ||
                data[key].name.endsWith(".m4v") ||
                data[key].name.endsWith(".avi") ||
                data[key].name.endsWith(".rm") ||
                data[key].name.endsWith(".mov") ) {
                img = document.createElement('video');
            }
            else if (data[key].name.endsWith(".raw")) {
                img = document.createElement('img');
                img_name = img_name.slice(0, -4) + ".jpg";
            }
            else {
                img = document.createElement('img');
            }
            img.style.width = "150px";
            img.style.height = "114px";
            img.style.marginLeft = "3px";
            img_name = img_name.replace(/\s/g,'%20');
            img.src = "/storage/" + img_name;
            img.alt = "  no image";

            if(!(data[key].name.endsWith(".mp4") ||
                data[key].name.endsWith(".wmv") ||
                data[key].name.endsWith(".m4v") ||
                data[key].name.endsWith(".avi") ||
                data[key].name.endsWith(".rm")  ||
                data[key].name.endsWith(".mov") ||
                data[key].name.endsWith(".jpg") ||
                data[key].name.endsWith(".png") ||
                data[key].name.endsWith(".raw") ||
                data[key].name.endsWith(".jpeg"))
            ) {
                img.style.opacity = "0";
            }

            div.append(img);

            //end

            fileIcon.style.width = "28px";
            fileIcon.style.paddingLeft = "5px";
            fileIcon.style.paddingRight = "5px";
            fileIcon.style.marginRight = "7px";
            fileIcon.style.marginLeft = "15px";
            fileIcon.data = data[key].name;
            fileIcon.style.cursor = "pointer";
            fileIcon.onclick = function () {
                copy_name(this.data);
            };



            div.append(fileIcon);

            var fileLink = document.createElement('a');
            fileLink.appendChild(document.createTextNode(data[key].path));
            fileLink.href = "/api/general/files/download?file_path=" + data[key].path;
            // fileLink.classList.add("HeaderHeight");
            fileLink.style.marginTop = "46px"
            fileLink.classList.add("FileEntryName");
            fileLink.classList.add("BCLinkBlue");
            fileLink.id = "link"+key;
            div.append(fileLink);

            if (!data[key].isDirectory) {
                var fileSize = document.createElement('span');
                // fileSize.classList.add("HeaderHeight");
                fileSize.classList.add("FileEntrySize");
                fileSize.classList.add("BCCLightGray");
                fileSize.style.marginTop = "46px";
                fileSize.appendChild(document.createTextNode("" + humanFileSize(data[key].length)));
                div.append(fileSize);
            }

            var fileDelete = document.createElement('a');
            fileDelete.innerHTML = "&nbsp";
            fileDelete.classList.add("HeaderHeight");
            fileDelete.classList.add("FileEntryDelete");
            var deleteIcon = document.createElement('img');
            deleteIcon.src = "delete.svg";
            deleteIcon.style.width = "15px";
            deleteIcon.style.height = "15px";
            deleteIcon.style.marginTop = "50px"
            fileDelete.style.textDecoration = "none";
            fileDelete.appendChild(deleteIcon);
            fileDelete.data = "/api/general/files/delete/" + data[key].name;
            // fileDelete.onclick = function () {
            //     sendGet(this.data);
            // };
            // div.append(fileDelete);

            let checkBox = document.createElement('input');
            checkBox.type = "checkbox";
            checkBox.style.marginLeft = "10px";
            checkBox.style.marginRight = "10px";
            checkBox.id = "checkbox"+key;
            checkBox.onclick = function () {
                listenCheckbox();
            };
            div.append(checkBox);

            div.style.marginBottom = "15px";

            $("#downloadList").append(div);

        }
    }

    function search_pro() {
        var content = document.getElementById("pro").value;
        $("#downloadList").empty();
        $("#downloadList").hide();
        $("#Spinner").show();

        $.ajax({
            url: "/api/general/search_pro?content="+content,
            type: "GET",
            // data: {project: project, color_tem: color_tem},
            error: function () {
                alert("Sorry! Some error happened");
            },
            success: function (data) {
                display(data);
            }
        });
    }

</script>




</body>
</html>
